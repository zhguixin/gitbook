### 通过蓝牙传输

### 通过 Wifi Direct传输

Wifi Direct 是 Android 4.0 后支持的功能，相对于蓝牙，Wifi Direct 的搜索速度和传输速度更快，传输距离更远。

操作步骤：

1. 在 AndroidManifest 中声明相关权限（网络和文件读写权限）

2. 获取 WifiP2pManager ，注册相关广播监听Wifi直连的状态变化

3. 指定某一台设备为服务器（用来接收文件），创建群组并作为群主存在，在指定端口监听客户端的连接请求，等待客户端发起连接请求以及文件传输请求

4. 客户端（用来发送文件）主动搜索附近的设备，加入到服务器创建的群组，获取服务器的IP地址，向其发起文件传输请求

5. 校验文件完整性

参考链接：https://www.jianshu.com/p/f5d66e15fbdf



### 通过Wifi热点实现文件传输

通过Wifi热点的方式实现，不需要考虑版本兼容的问题，毕竟Android4.0之后才支持的Wifi Direct，并且传输文件更高效。

操作步骤：

1. 在 AndroidManifest 中声明相关权限（网络和文件读写权限） 
2. 文件接收端开启Ap热点，作为服务器端建立Socket，在指定端口等待客户端的连接  
3. 文件发送端连接到Wifi热点，作为客户端主动连接到服务器端  
4. 文件发送端将待发送的文件信息模型（包括文件路径，文件大小和文件MD5码等信息）通过Socket发送给文件接收端 
5. 文件发送端发起实际的文件传输请求，接收端和发送端根据已接收到或已发送的的文件字节数，计算文件传输进度、文件传输速率和预估完成时间等数据  
6. 文件传输结束后，对比文件信息模型携带来的MD5码值与本地文件重新计算生成的MD5码是否相等，以此校验文件完整性

参考链接：https://blog.csdn.net/new_one_object/article/details/79368045